# â–ˆâ–‘â–ˆâ€ƒâ–ˆâ–€â€ƒâ–ˆâ–€â–€â€ƒâ–ˆâ–€â–ˆâ€ƒ â€ƒâ–ˆâ–€â–ˆâ€ƒâ–ˆâ–€â–ˆâ€ƒâ–ˆâ–€â–€â€ƒâ–ˆâ–€â–€â€ƒâ–ˆâ–€
# â–ˆâ–„â–ˆâ€ƒâ–„â–ˆâ€ƒâ–ˆâ–ˆâ–„â€ƒâ–ˆâ–€â–„â€ƒ â€ƒâ–ˆâ–€â–€â€ƒâ–ˆâ–€â–„â€ƒâ–ˆâ–ˆâ–„â€ƒâ–ˆâ–€â–‘â€ƒâ–„â–ˆ

# Set your personal hyprland configuration here
# See https://wiki.hyprland.org/Configuring for more information

# // â–ˆâ€ƒâ–ˆâ–„â–‘â–ˆâ€ƒâ–ˆâ–€â–ˆâ€ƒâ–ˆâ–‘â–ˆâ€ƒâ–€â–ˆâ–€
# // â–ˆâ€ƒâ–ˆâ–‘â–€â–ˆâ€ƒâ–ˆâ–€â–€â€ƒâ–ˆâ–„â–ˆâ€ƒâ–‘â–ˆâ–‘

# Enable workspace cycling for recent workspace toggle
binds {
    allow_workspace_cycles = true
}


# Environment variables for desktop portals
env = XDG_CURRENT_DESKTOP,Hyprland
env = XDG_SESSION_DESKTOP,Hyprland
env = XDG_SESSION_TYPE,wayland

#  Uncomment to enable // change to a preferred value
# ðŸ”— See https://wiki.hyprland.org/Configuring/Variables/#input
input {
    kb_layout = us
    kb_variant = intl
    kb_options = caps:swapescape # Swap Caps Lock and Escape keys
    # follow_mouse = 1
    sensitivity = -0.3  # Reduce overall mouse sensitivity
    force_no_accel = 1  # Disable mouse acceleration
    accel_profile = flat # Use flat acceleration profile
    scroll_method = 2fg # Two-finger scrolling method
    scroll_factor = 1 # Reduce scroll speed (try to counter 3x multiplier)
    # numlock_by_default = true

    # ðŸ”— See https://wiki.hyprland.org/Configuring/Variables/#touchpad
    touchpad {
        natural_scroll = yes
    }

}



# ðŸ”— See https://wiki .hyprland.org/Configuring/Variables/#gestures
gestures {
#     workspace_swipe = true
#     workspace_swipe_fingers = 3
}

# // â–„â–€â–ˆ â–ˆâ–‘â–ˆ â–€â–ˆâ–€ â–ˆâ–€â–ˆ â–ˆâ–€ â–€â–ˆâ–€ â–„â–€â–ˆ â–ˆâ–€â–ˆ â–€â–ˆâ–€
# // â–ˆâ–€â–ˆ â–ˆâ–„â–ˆ â–‘â–ˆâ–‘ â–ˆâ–„â–ˆ â–„â–ˆ â–‘â–ˆâ–‘ â–ˆâ–€â–ˆ â–ˆâ–€â–„ â–‘â–ˆâ–‘

# Auto-start applications
# Simple clipboard setup (no systemd complexity)
exec-once = $HOME/.config/hypr/scripts/autostart-clipboard.sh
# Desktop portal watchdog to prevent issues
# exec-once = $HOME/.config/hypr/scripts/portal-watchdog.sh

# Pyprland daemon for magnify and other extensions
exec-once = pypr

# Gammastep for color temperature adjustment (blue light filter)
exec-once = wl-gammarelay
#exec-once = sleep 2 && $HOME/.config/hypr/scripts/smooth-temperature.sh

# Electron/DBus/Clipboard fixes
env = ELECTRON_OZONE_PLATFORM_HINT,auto
env = CHROMIUM_FLAGS,--enable-features=UseOzonePlatform --ozone-platform=wayland
env = QT_QPA_PLATFORM,wayland
env = GDK_BACKEND,wayland

# DBus timeout to prevent race conditions
env = DBUS_DEFAULT_TIMEOUT,25000

# Fix portal crashes with Electron apps
exec-once = systemctl --user import-environment WAYLAND_DISPLAY XDG_CURRENT_DESKTOP

# Rate-limited clipboard to prevent DBus flooding
# exec-once = pkill -f "wl-paste.*watch"; sleep 1; wl-paste --type text --watch sh -c 'cliphist store' &
# exec-once = pkill -f "wl-paste.*watch"; sleep 1; wl-paste --type image --watch sh -c 'cliphist store' &

# exec-once = [workspace 1 silent] vivaldi --new-window --enable-features=UseOzonePlatform --ozone-platform=wayland
exec-once = [workspace 1 silent] vivaldi --new-window
exec-once = [workspace 2 silent] cursor
# exec-once = [workspace 3 silent] slack
exec-once = [workspace 3 silent] zapzap
# exec-once = [workspace 3 silent] /opt/vivaldi/vivaldi --profile-directory=Default --app-id=fjnmbjhnabkmppkkdfmnbcmjfolnjeco --enable-features=UseOzonePlatform --ozone-platform=wayland

exec-once = [workspace 4] obsidian

# Color temperature adjustment keybindings
bind = $mainMod, Prior, exec, $HOME/.config/hypr/scripts/temp-up.sh   # Super+PageUp - Cooler (increase temperature)
bind = $mainMod, Next, exec, $HOME/.config/hypr/scripts/temp-down.sh  # Super+PageDown - Warmer (decrease temperature)

# Brightness adjustment keybindings
bind = $mainMod ALT, Prior, exec, $HOME/.config/hypr/scripts/brightness-up.sh   # Alt+PageUp - Increase brightness
bind = $mainMod ALT, Next, exec, $HOME/.config/hypr/scripts/brightness-down.sh  # Alt+PageDown - Decrease brightness

# Wallpaper fix keybinding - for when monitors are plugged/unplugged
#bind = $mainMod SHIFT, F5, exec, $HOME/.config/hypr/scripts/fix-wallpaper.sh    # Super+Shift+F5 - Fix wallpaper scaling

# Pyprland Magnify (Zoom) keybindings
bind = $mainMod, equal, exec, pypr zoom ++0.5 # Zoom in by 0.5x
bind = $mainMod, minus, exec, pypr zoom --0.5 # Zoom out by 0.5x
bind = $mainMod Shift, equal, exec, pypr zoom # Toggle zoom (on/off)


# exec = wl-gammarelay
# bind= $triMod,Kp_Left,exec,busctl --user -- set-property rs.wl-gammarelay / rs.wl.gammarelay Temperature q 6500
# bind= $triMod,Kp_Begin,exec,busctl --user -- set-property rs.wl-gammarelay / rs.wl.gammarelay Temperature q 4500
# bind= $triMod,Kp_Right,exec,busctl --user -- set-property rs.wl-gammarelay / rs.wl.gammarelay Temperature q 2500
