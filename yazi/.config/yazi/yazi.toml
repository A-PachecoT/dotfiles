[opener]
edit = [
  { run = '$EDITOR "$@"', block = true },
]
open = [
  { run = 'open "$@"', orphan = true, for = "macos" },
]

[open]
rules = [
  # Directories - let yazi handle natively (no rule needed, this is just documentation)

  # Web files → browser (before text/* catches them)
  { mime = "text/html", use = "open" },

  # Media/documents → system default
  { mime = "image/*", use = "open" },
  { mime = "video/*", use = "open" },
  { mime = "audio/*", use = "open" },
  { mime = "application/pdf", use = "open" },

  # Text/code files → editor
  { mime = "text/*", use = "edit" },
  { mime = "application/json", use = "edit" },
  { mime = "application/javascript", use = "edit" },

  # Fallback for unknown files → system default
  { mime = "*", use = "open" },
]
